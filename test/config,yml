# configure scheduler for fetching job statistics
searchEndpoint: http://joboffer-searcher:8080/search
refreshCacheInterval: 1

jerseyClient:
  timeout: 5000ms

# database configuration
database:
  driverClass: com.mysql.jdbc.Driver
  user: ${env.DB_USER}
  password: ${env.DB_PASS}
  url: jdbc:mysql://${env.DB_HOST}:${env.DB_PORT}/${env.DB_NAME}?useSSL=true&verifyServerCertificate=true&requireSSL=true&autoReconnect=true

  properties:
    hibernate.dialect: org.hibernate.dialect.MySQL5InnoDBDialect

  # the maximum amount of time to wait on an empty pool before throwing an exception
  maxWaitForConnection: 10s

  # the SQL query to run when validating a connection's liveness
  validationQuery: "/* Health Check */ SELECT 1"

  # connection max keep open:
  maxSize: 16
  checkConnectionWhileIdle: true

# messaging configuration
statisticsProviderQueue: queue.statistics-provider
amqp:
  hosts:
    - name: rabbitmq
      port: 5672
  queues:
    - name: queue.statistics-provider
      supportRetries: true
